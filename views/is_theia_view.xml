<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

    <record id="is_theia_root_menu" model="ir.ui.menu" >
        <field name="name">THEIA</field>
        <field name="sequence">5</field>
        <field name="groups_id" eval="[(6,0,[
            ref('is_base_secondaire_grp')
        ])]"/>
    </record>

    <menuitem name="Process" id="is_theia_presse_main_menu"
              parent="is_theia_root_menu" sequence="10"/>

    <menuitem name="OF" id="menu_is_of_root" 
              parent="is_theia_root_menu" sequence="20"/>







    <menuitem name="Indicateurs" id="menu_is_cpi_indicateurs" 
              parent="is_theia_root_menu" sequence="30"/>


    <record id="is_theia_parametres_menu" model="ir.ui.menu" >
        <field name="name">Paramètres</field>
        <field name="sequence">40</field>
        <field name="parent_id" eval="ref('is_theia_root_menu')"/>
        <field name="groups_id" eval="[(6,0,[
            ref('base.group_erp_manager'),
            ref('group_gestionnaire_cpi_raspberry'),
        ])]"/>
    </record>


    <!-- THEIA / Parc des presses -->
    <menuitem action="is_theia_presse_action" 
              id="is_theia_presse_menu" 
              parent="is_theia_presse_main_menu" 
              sequence="10"/>
    <record id="is_parc_presses_url_action_server" model="ir.actions.server">
        <field name="name">Parc des presses</field>
       <field name="model_id" ref="model_ir_actions_act_url"/>
       <field name="state">code</field>
       <field name="code">action = model.is_parc_presses_url_action()</field>
    </record>
    <menuitem 
        name="Parc des presses" 
        id="is_parc_presses_menu" 
        action="is_parc_presses_url_action_server"
        parent="is_theia_presse_main_menu"
        sequence="16"
    />

    <!-- THEIA / Parc assemblage -->
    <record id="is_parc_assemblage_url_action_server" model="ir.actions.server">
        <field name="name">Parc assemblage</field>
       <field name="model_id" ref="model_ir_actions_act_url"/>
       <field name="state">code</field>
       <field name="code">action = model.is_parc_assemblage_url_action()</field>
    </record>
    <menuitem 
        name="Parc assemblage" 
        id="is_parc_assemblage_menu" 
        action="is_parc_assemblage_url_action_server"
        parent="is_theia_presse_main_menu"
        sequence="17"
    />

    <!-- THEIA / Indicateurs / Rebuts -->
    <record id="is_indicateur_rebut_url_action_server" model="ir.actions.server">
        <field name="name">Rebuts</field>
       <field name="model_id" ref="model_ir_actions_act_url"/>
       <field name="state">code</field>
       <field name="code">action = model.is_indicateur_rebut_url_action()</field>
    </record>
    <menuitem 
        name="Rebuts" 
        id="is_indicateur_rebut_menu" 
        action="is_indicateur_rebut_url_action_server"
        parent="menu_is_cpi_indicateurs" 
        sequence="10"
    />

    <!-- THEIA / Indicateurs / TRS -->
    <record id="is_indicateur_trs_url_action_server" model="ir.actions.server">
        <field name="name">TRS</field>
        <field name="model_id" ref="model_ir_actions_act_url"/>
        <field name="state">code</field>
        <field name="code">action = model.is_indicateur_trs_url_action()</field>
    </record>
    <menuitem 
        name="TRS" 
        id="is_indicateur_trs_menu" 
        action="is_indicateur_trs_url_action_server"
        parent="menu_is_cpi_indicateurs" 
        sequence="20"
    />

    <!-- presse.cycle -->
    <record model="ir.ui.view" id="is_presse_cycle_tree_view">
        <field name="name">is.presse.cycle.tree</field>
        <field name="model">is.presse.cycle</field>
        <field name="arch" type="xml">
            <tree>
                <field name="date_heure"/>
                <field name="presse_id"/>
                <field name="entree"  optional="show"/>
                <field name="couleur" optional="hide" widget="pgcolor"/>
                <field name="etat"    optional="hide"/>
                <field name="of_ids" widget="many2many_tags"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_presse_cycle_form_view">
        <field name="name">is.presse.cycle.form</field>
        <field name="model">is.presse.cycle</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="date_heure"/>
                    <field name="presse_id"/>
                    <field name="entree"/>
                    <field name="etat"/>
                    <field name="of_ids" widget="many2many_tags" />
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_presse_cycle_search_view" >
        <field name="name">is.presse.cycle.search</field>
        <field name="model">is.presse.cycle</field>
        <field name="arch" type="xml">
            <search>
                <field name="presse_id"/>
                <field name="entree"/>
                <field name="etat"/>
                <field name="of_ids" />
                <filter name="group_presse_id"     string="Presse"       context="{'group_by':'presse_id'}"/>
                <filter name="group_entree"        string="Entrée"       context="{'group_by':'entree'}"/>
                <filter name="group_etat"          string="État"         context="{'group_by':'etat'}"/>
                <filter name="group_annee"         string="Année"        context="{'group_by':'date_heure:year'}"/>
                <filter name="group_mois"          string="Mois"         context="{'group_by':'date_heure:month'}"/>
                <filter name="group_jour"          string="Jour"         context="{'group_by':'date_heure:day'}"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_presse_cycle_action">
        <field name="name">Cycles process</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.presse.cycle</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_presse_cycle_action" 
              id="menu_is_presse_cycle" 
              parent="is_theia_presse_main_menu" 
              sequence="20"/>


    <!-- presse.arret -->
    <record model="ir.ui.view" id="is_presse_arret_tree_view">
        <field name="name">is.presse.arret.tree</field>
        <field name="model">is.presse.arret</field>
        <field name="arch" type="xml">
            <tree>
                <field name="date_heure"/>
                <field name="presse_id"/>
                <field name="type_arret_id"/>
                <field name="couleur" widget='pgcolor'/>
                <field name="origine"/>
                <field name="tps_arret" widget="float_time" sum="Total"/>
                <field name="of_ids"  widget="many2many_tags"/>
                <field name="employee_id"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_presse_arret_form_view">
        <field name="name">is.presse.arret.form</field>
        <field name="model">is.presse.arret</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="date_heure"                      readonly="1"/>
                    <field name="presse_id"                       readonly="1"/>
                    <field name="type_arret_id"/>
                    <field name="origine"                         readonly="1"/>
                    <field name="tps_arret" widget="float_time"   readonly="1"/>
                    <field name="of_ids" widget="many2many_tags"  readonly="1"/>
                    <field name="employee_id"                     readonly="1"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_presse_arret_search_view" >
        <field name="name">is.presse.arret.search</field>
        <field name="model">is.presse.arret</field>
        <field name="arch" type="xml">
            <search>
                <field name="presse_id"/>
                <field name="type_arret_id"/>
                <field name="of_ids"/>
                <field name="employee_id"/>
                <filter string="Production série + Essai" name="production_serie_essai" domain="['|',('type_arret_id','=',1),('type_arret_id','=',13)]"/>
                <group expand="0" string="Regroupé par...">
                  <filter name="group_presse_id"     string="Presse"       context="{'group_by':'presse_id'}"/>
                  <filter name="group_type_arret_id" string="Type d'arrêt" context="{'group_by':'type_arret_id'}"/>
                  <filter name="group_mois"          string="Mois"         context="{'group_by':'date_heure:month'}"/>
                  <filter name="group_jour"          string="Jour"         context="{'group_by':'date_heure:day'}"/>
                </group>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_presse_arret_action">
        <field name="name">États process</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.presse.arret</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_presse_arret_action" 
              id="menu_is_presse_arret" 
              parent="is_theia_presse_main_menu" 
              sequence="30"/>


    <!-- is.theia.alerte -->
    <record model="ir.ui.view" id="is_theia_alerte_tree_view">
        <field name="name">is.theia.alerte.tree</field>
        <field name="model">is.theia.alerte</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="equipement_id"/>
                <field name="type_alerte_id"/>
                <field name="heure_debut"/>
                <field name="heure_fin"/>
                <field name="active"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_alerte_form_view">
        <field name="name">is.theia.alerte.form</field>
        <field name="model">is.theia.alerte</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="equipement_id"/>
                    <field name="type_alerte_id"/>
                    <field name="heure_debut"/>
                    <field name="heure_fin"/>
                    <field name="active"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_alerte_search_view" >
        <field name="name">is.theia.alerte.search</field>
        <field name="model">is.theia.alerte</field>
        <field name="arch" type="xml">
            <search>
                <field name="equipement_id"/>
                <field name="type_alerte_id"/>
                <group string="Filtres">
                    <filter string="Alertes inactives" name="alertes_inactives" domain="[('active','=',False)]"/>
                    <filter string="Alertes actives"   name="alertes_actives"   domain="[('active','=',True)]"/>
                </group>
                <group string="Regrouper par">
                    <filter string="Process"       name="group_by_process" context="{'group_by': 'equipement_id'}"/>
                    <filter string="Type d'alerte" name="group_by_alerte"  context="{'group_by': 'type_alerte_id'}"/>
                </group>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_theia_alerte_action">
        <field name="name">Alertes</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.theia.alerte</field>
        <field name="view_mode">tree</field>
    </record>
    <menuitem action="is_theia_alerte_action" 
              id="menu_is_theia_alerte" 
              parent="is_theia_presse_main_menu" 
              sequence="35"/>


    <!-- of -->
    <record id="bilan_fin_of_action_server" model="ir.actions.server">
         <field name="name">Bilan de fin d'OF</field>
        <field name="model_id" ref="model_is_of"/>
        <field name="binding_model_id" ref="model_is_of"/>
        <field name="binding_view_types">list,form</field>
        <field name="state">code</field>
        <field name="code">action = records.bilan_fin_of()</field>
    </record>
    <record id="calcul_cycle_moyen_action_server" model="ir.actions.server">
         <field name="name">Calcul du cycle moyen série</field>
        <field name="model_id" ref="model_is_of"/>
        <field name="binding_model_id" ref="model_is_of"/>
        <field name="binding_view_types">list,form</field>
        <field name="state">code</field>
        <field name="code">action = records.get_cycle_moyen_serie()</field>
    </record>
    <record id="calcul_qt_rebut_action_server" model="ir.actions.server">
         <field name="name">Recalcul Qt Rebuts</field>
        <field name="model_id" ref="model_is_of"/>
        <field name="binding_model_id" ref="model_is_of"/>
        <field name="binding_view_types">list,form</field>
        <field name="state">code</field>
        <field name="code">action = records.get_qt_rebut()</field>
    </record>
    <record model="ir.ui.view" id="is_of_tree_view">
        <field name="name">is.of.tree</field>
        <field name="model">is.of</field>
        <field name="arch" type="xml">
            <tree create="0">
                <field name="name"/>
                <field name="prioritaire" optional="show"/>
                <field name="moule"/>
                <field name="nb_empreintes" optional="show"/>
                <field name="coef_cpi" optional="show"/>
                <field name="code_article"/>
                <field name="categorie" optional="show"/>
                <field name="designation" optional="show"/>
                <field name="presse_id" optional="show"/>
                <field name="affecte" optional="show"/>
                <field name="ordre" optional="show"/>
                <field name="qt" optional="show"/>
                <field name="qt_theorique" optional="show"/>
                <field name="qt_declaree" optional="show"/>
                <field name="qt_restante" optional="show"/>
                <field name="qt_rebut" optional="show"/>
                <field name="qt_rebut_theo" optional="show"/>
                <field name="taux_rebut" optional="show"/>
                <field name="taux_rebut_theo" optional="show"/>
                <field name="cycle_gamme" optional="show"/>
                <field name="cycle_moyen" optional="show"/>
                <field name="cycle_moyen_serie" optional="show"/>
                <field name="tps_restant" optional="show" widget="float_time"/>
                <field name="heure_debut" optional="show"/>
                <field name="heure_fin" optional="show"/>
                <field name="heure_fin_planning" optional="show"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_of_form_view">
        <field name="name">is.of.form</field>
        <field name="model">is.of</field>
        <field name="arch" type="xml">
        <form create="0">
            <!-- <header>
                <button 
                    name="envoyer_par_mail_action"
                    string="Envoyer par mail le blian de fin d'OF"
                    type="object"
                    groups="base.group_system"
                />
            </header> -->
            <sheet>
                <group>
                    <group>
                        <field name="name"          readonly="1"/>
                        <field name="prioritaire"   readonly="1"/>
                        <field name="moule"         readonly="1"/>
                        <field name="nb_empreintes"/>
                        <field name="coef_cpi"      readonly="1"/>
                        <field name="code_article"  readonly="1"/>
                        <field name="categorie"     readonly="1"/>
                        <field name="designation"   readonly="1"/>
                        <field name="uc"            readonly="1"/>
                        <field name="cout"          readonly="1"/>
                        <field name="presse_id"     readonly="1"/>
                        <field name="affecte"       readonly="1"/>
                        <field name="ordre"/>
                    </group>
                    <group>
                        <field name="qt"                 readonly="1"/>
                        <field name="nb_cycles"          invisible="1"/>
                        <field name="qt_theorique"       readonly="1"/>
                        <field name="qt_declaree"        readonly="1"/>
                        <field name="qt_restante"        readonly="1"/>
                        <field name="qt_rebut"           readonly="1"/>
                        <field name="qt_rebut_theo"      readonly="1"/>
                        <field name="taux_rebut"         readonly="1"/>
                        <field name="taux_rebut_theo"    readonly="1"/>
                        <field name="cycle_gamme"        readonly="1"/>
                        <field name="cycle_moyen"        readonly="1"/>
                        <field name="cycle_moyen_serie"  readonly="1"/>
                        <field name="tps_restant"        readonly="1" widget="float_time"/>
                        <field name="heure_debut"        readonly="1"/>
                        <field name="heure_fin"          readonly="1"/>
                        <field name="employee_id"        readonly="1"/>
                        <field name="heure_fin_planning" readonly="1"/>
                    </group>
                </group>
                <table>
                    <tr style="vertical-align: top">
                        <td style="width:50%">
                            <field name="tps_ids" nolabel="1" readonly="1">
                                <tree>
                                    <field name="etat_presse_id" />
                                    <field name="tps_arret" widget="float_time" sum="Total"/>
                                    <field name="couleur" widget='pgcolor'/>
                                </tree>
                            </field>
                        </td>
                        <td>
                            <field name="rebut_ids" nolabel="1" readonly="1">
                                <tree>
                                        <field name="defaut_id" />
                                        <field name="qt_rebut" sum="Total"/>
                                </tree>
                            </field>
                        </td>
                    </tr>
                </table>
            </sheet>
        </form>
        </field>
    </record>


    <!-- Cette vue permet de rendre modifiable certains champs au groupe 'Gestionnaire THEIA' -->
    <record id="is_of_gestionnaire_form_view" model="ir.ui.view">
        <field name="name">is_of_gestionnaire_form_view</field>
        <field name="model">is.of</field>
        <field name="inherit_id" ref="is_of_form_view"/>
        <!-- <field name="groups_id" eval="[(4, ref('group_gestionnaire_cpi_raspberry'))]"/> -->
        <field name="arch" type="xml">
            <field name="coef_cpi" position="replace">
                <field name="coef_cpi"/>
            </field>
            <field name="heure_debut" position="replace">
                <field name="heure_debut"/>
            </field>
            <field name="heure_fin" position="replace">
                <field name="heure_fin"/>
            </field>
            <field name="presse_id" position="replace">
                <field name="presse_id"/>
            </field>
            <field name="qt_theorique" position="replace">
                <field name="qt_theorique"/>
            </field>
            <field name="qt_declaree" position="replace">
                <field name="qt_declaree"/>
            </field>
            <field name="qt_restante" position="replace">
                <field name="qt_restante"/>
            </field>
            <field name="qt_rebut" position="replace">
                <field name="qt_rebut"/>
            </field>
            <field name="cycle_gamme" position="replace">
                <field name="cycle_gamme"/>
            </field>
        </field>
    </record>

    <record model="ir.ui.view" id="is_of_search_view" >
        <field name="name">is.of.search</field>
        <field name="model">is.of</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="moule"/>
                <field name="code_article"/>
                <field name="categorie"/>
                <field name="designation"/>
                <field name="ordre"/>
                <field name="presse_id"/>
                <group expand="0" string="Regroupé par...">
                  <filter name="group_presse_id"    string="Presse"         context="{'group_by':'presse_id'}"/>
                  <filter name="group_moule"        string="Moule"          context="{'group_by':'moule'}"/>
                  <filter name="group_code_article" string="Article"        context="{'group_by':'code_article'}"/>
                  <filter name="group_mois"         string="Mois"           context="{'group_by':'heure_debut:month'}"/>
                  <filter name="group_jour"         string="Jour"           context="{'group_by':'heure_debut:day'}"/>
                </group>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_of_en_cours_action">
        <field name="name">OF en cours</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.of</field>
        <field name="domain">[('heure_debut', '!=', False),('heure_fin', '=', False)]</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_of_en_cours_action" 
              id="menu_is_of_en_cours" 
              parent="menu_is_of_root" 
              sequence="10"/>
    <record model="ir.actions.act_window" id="is_of_termines_action">
        <field name="name">OF terminés</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.of</field>
        <field name="domain">[('heure_debut', '!=', False),('heure_fin', '!=', False)]</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_of_termines_action" 
              id="menu_is_of_termines" 
              parent="menu_is_of_root" 
              sequence="12"/>
    <record model="ir.actions.act_window" id="is_of_suivant_action">
        <field name="name">OF suivants</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.of</field>
        <field name="domain">[('heure_debut', '=', False),('heure_fin', '=', False)]</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_of_suivant_action" 
              id="menu_is_of_suivant" 
              parent="menu_is_of_root" 
              sequence="14"/>

    <record model="ir.actions.act_window" id="is_of_tous_action">
        <field name="name">Tous les OF</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.of</field>
        <field name="domain">[]</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_of_tous_action" 
              id="menu_is_of_tous" 
              parent="menu_is_of_root" 
              sequence="15"/>

    <!-- Déclaration des OF -->
    <record model="ir.ui.view" id="is_of_declaration_tree_view">
        <field name="name">is.of.declaration.tree</field>
        <field name="model">is.of.declaration</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="of_id"/>
                <field name="num_carton"/>
                <field name="qt_bonne"/>
                <field name="qt_rebut"/>
                <field name="defaut_id"/>
                <field name="employee_id"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_of_declaration_form_view">
        <field name="name">is.of.declaration.form</field>
        <field name="model">is.of.declaration</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name" />
                    <field name="of_id" />
                    <field name="num_carton"/>
                    <field name="qt_bonne"/>
                    <field name="qt_rebut"/>
                    <field name="defaut_id"/>
                    <field name="employee_id"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_of_declaration_search_view" >
        <field name="name">is.of.declaration.search</field>
        <field name="model">is.of.declaration</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="of_id"/>
                <field name="num_carton"/>
                <field name="defaut_id"/>
                <field name="employee_id"/>
                <group expand="0" string="Regroupé par...">
                  <filter name="group_of_id"     string="OF"             context="{'group_by':'of_id'}"/>
                  <filter name="group_defaut_id" string="Type de défaut" context="{'group_by':'defaut_id'}"/>
                  <filter name="group_mois"      string="Mois"           context="{'group_by':'name:month'}"/>
                  <filter name="group_jour"      string="Jour"           context="{'group_by':'name:day'}"/>
                </group>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_of_declaration_action">
        <field name="name">Déclaration des OF</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.of.declaration</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_of_declaration_action" 
              id="menu_is_of_declaration" 
              parent="menu_is_of_root" 
              sequence="20"/>


    <record model="ir.actions.act_window" id="is_theia_ilot_action">
        <field name="name">Ilot</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.ilot</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_theia_ilot_action"
              id="is_theia_ilot_menu"
              parent="is_theia_parametres_menu"
              sequence="35" groups="base.group_erp_manager"/>



    <!-- Type de défaut des rebuts -->
    <record model="ir.ui.view" id="is_type_defaut_tree_view">
        <field name="name">is.type.defaut.tree</field>
        <field name="model">is.type.defaut</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"/>
                <field name="active"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_type_defaut_form_view">
        <field name="name">is.type.defaut.form</field>
        <field name="model">is.type.defaut</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="active"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_type_defaut_search_view" >
        <field name="name">is.type.defaut.search</field>
        <field name="model">is.type.defaut</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_type_defaut_action">
        <field name="name">Type de défaut des rebuts</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.type.defaut</field>
        <field name="view_mode">tree</field>
    </record>
    <menuitem action="is_type_defaut_action" 
              id="menu_is_type_defaut" 
              parent="is_theia_parametres_menu" 
              sequence="40" groups="base.group_erp_manager"/>






    <!-- is.theia.alerte.type -->
    <record model="ir.ui.view" id="is_theia_alerte_type_tree_view">
        <field name="name">is.theia.alerte.type.tree</field>
        <field name="model">is.theia.alerte.type</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"/>
                <field name="code"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_alerte_type_form_view">
        <field name="name">is.theia.alerte.type.form</field>
        <field name="model">is.theia.alerte.type</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="code"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_alerte_type_search_view" >
        <field name="name">is.theia.alerte.type.search</field>
        <field name="model">is.theia.alerte.type</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_theia_alerte_type_action">
        <field name="name">Type d'alerte</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.theia.alerte.type</field>
        <field name="view_mode">tree</field>
    </record>
    <menuitem action="is_theia_alerte_type_action" 
              id="menu_is_theia_alerte_type" 
              parent="is_theia_parametres_menu" 
              sequence="45" groups="base.group_erp_manager"/>










    <!-- is.raspberry.zebra -->
    <record model="ir.ui.view" id="is_raspberry_zebra_tree_view">
        <field name="name">is.raspberry.zebra.tree</field>
        <field name="model">is.raspberry.zebra</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_raspberry_zebra_form_view">
        <field name="name">is.raspberry.zebra.form</field>
        <field name="model">is.raspberry.zebra</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_raspberry_zebra_search_view" >
        <field name="name">is.raspberry.zebra.search</field>
        <field name="model">is.raspberry.zebra</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>

            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_raspberry_zebra_action">
        <field name="name">Imprimante Zebra</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.raspberry.zebra</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_raspberry_zebra_action" 
              id="menu_is_raspberry_zebra" 
              parent="is_theia_parametres_menu" 
              sequence="50" groups="base.group_erp_manager"/>



    <!-- État Presse -->
    <record model="ir.ui.view" id="is_etat_presse_tree_view">
        <field name="name">is.etat.presse.tree</field>
        <field name="model">is.etat.presse</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name5x5"/>
                <field name="couleur"/>
                <field name="colonne5x5"/>
                <field name="ligne5x5"/>
                <field name="regroupement_id"/>
                <field name="production_serie"/>
                <field name="action_id"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_etat_presse_form_view">
        <field name="name">is.etat.presse.form</field>
        <field name="model">is.etat.presse</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name5x5"/>
                    <field name="colonne5x5"/>
                    <field name="ligne5x5"/>
                    <field name="regroupement_id"/>
                    <field name="production_serie"/>
                    <field name="couleur"/>
                    <field name="action_id"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_etat_presse_search_view" >
        <field name="name">is.etat.presse.search</field>
        <field name="model">is.etat.presse</field>
        <field name="arch" type="xml">
            <search>
                <field name="name5x5"/>
                <field name="regroupement_id"/>
                <field name="production_serie"/>
                <field name="couleur"/>
                <group expand="0" string="Regroupé par...">
                  <filter name="group_couleur"         string="Couleur"                  context="{'group_by':'couleur'}"/>
                  <filter name="group_regroupement_id" string="Regroupement État Presse" context="{'group_by':'regroupement_id'}"/>
                </group>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_etat_presse_action">
        <field name="name">État presse</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.etat.presse</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_etat_presse_action" 
              id="menu_is_etat_presse" 
              parent="is_theia_parametres_menu" 
              sequence="15" groups="base.group_user"/>


    <!-- Regroupement État Presse -->
    <record model="ir.ui.view" id="is_etat_presse_regroupement_tree_view">
        <field name="name">is.etat.presse.regroupement.tree</field>
        <field name="model">is.etat.presse.regroupement</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="couleur"/>
                <field name="ordre"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_etat_presse_regroupement_form_view">
        <field name="name">is.etat.presse.regroupement.form</field>
        <field name="model">is.etat.presse.regroupement</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="couleur"/>
                    <field name="ordre"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_etat_presse_regroupement_search_view" >
        <field name="name">is.etat.presse.regroupement.search</field>
        <field name="model">is.etat.presse.regroupement</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_etat_presse_regroupement_action">
        <field name="name">Regroupement État presse</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.etat.presse.regroupement</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_etat_presse_regroupement_action" 
              id="menu_is_etat_presse_regroupement" 
              parent="is_theia_parametres_menu" 
              sequence="20" groups="base.group_erp_manager"/>


    <!-- is.raspberry -->
    <record model="ir.ui.view" id="is_raspberry_tree_view">
        <field name="name">is.raspberry.tree</field>
        <field name="model">is.raspberry</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="adresse_mac"/>
                <field name="last_presse_id"/>
                <field name="onglet_indicateurs"/>
                <field name="onglet_es"/>
                <field name="onglet_actif"/>
                <field name="declaration_odoo"/>
                <field name="zebra_id"/>
                <field name="create_date"/>
                <field name="write_date"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="is_raspberry_form_view">
        <field name="name">is.raspberry.form</field>
        <field name="model">is.raspberry</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="adresse_mac"/>
                    <field name="last_presse_id"/>
                    <field name="onglet_indicateurs"/>
                    <field name="onglet_es"/>
                    <field name="onglet_actif"/>
                    <field name="declaration_odoo"/>
                    <field name="zebra_id"/>
                </group>

                <table>
                    <tr style="vertical-align: top">
                        <td style="width:50%">
                            <group string="Entrées"/>
                            <field name="entree_ids" nolabel="1" readonly="1">
                                <tree>
                                    <field name="numero" />
                                    <field name="etat" />
                                    <field name="couleur" widget='pgcolor'/>
                                </tree>
                            </field>
                        </td>
                        <td>
                            <group string="Sorties"/>
                            <field name="sortie_ids" nolabel="1" readonly="1">
                                <tree>
                                    <button title="Inverser l'état de la sortie" name="changer_etat_action"  type="object" icon="fa-gear" />
                                    <field name="numero" />
                                    <field name="etat" />
                                    <field name="couleur" widget='pgcolor'/>
                                </tree>
                            </field>
                        </td>
                    </tr>
                </table>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_raspberry_search_view" >
        <field name="name">is.raspberry.search</field>
        <field name="model">is.raspberry</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="adresse_mac"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_raspberry_action">
        <field name="name">Raspberry</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.raspberry</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem action="is_raspberry_action" 
              id="menu_is_raspberry" 
              parent="is_theia_parametres_menu" 
              sequence="25" groups="group_gestionnaire_cpi_raspberry"/>






    <!-- Lancement automatisé du calcul du bilan de fin d'OF -->
    <!-- TODO : Fonction désactivée car pb d'accès concurrent avec les Raspberry -->
    <!-- <record forcecreate="True" id="is_bilan_fin_of_scheduler_action" model="ir.cron">
        <field name="name">Bilan de fin d'OF</field>
        <field eval="False" name="active"/>
        <field name="user_id" ref="base.user_root"/>
        <field name="interval_number">10</field>
        <field name="interval_type">minutes</field>
        <field name="numbercall">-1</field>
        <field eval="False" name="doall"/>
        <field eval="'is.of'" name="model"/>
        <field eval="'run_bilan_fin_of_scheduler_action'" name="function"/>
        <field eval="'(True,)'" name="args"/>
    </record> -->


    <!-- is.theia.trs -->
    <record model="ir.ui.view" id="is_theia_trs_tree_view">
        <field name="name">is.theia.trs.tree</field>
        <field name="model">is.theia.trs</field>
        <field name="arch" type="xml">
            <tree>
                <field name="date_heure"/>
                <field name="presse"/>
                <field name="ilot"/>
                <field name="etat"/>
                <field name="couleur" widget='pgcolor'/>
                <field name="of"/>
                <field name="code_article"/>
                <field name="categorie"/>
                <field name="moule"/>
                <field name="duree_of"   widget="float_time" sum="Total"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_trs_form_view">
        <field name="name">is.theia.trs.form</field>
        <field name="model">is.theia.trs</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="date_heure"/>
                    <field name="presse_id"/>
                    <field name="ilot"/>
                    <field name="etat_id"/>
                    <field name="couleur"/>
                    <field name="of_id"/>
                    <field name="code_article"/>
                    <field name="categorie"/>
                    <field name="moule"/>
                    <field name="coef_theia"/>
                    <field name="duree_etat" widget="float_time"/>
                    <field name="duree_of"   widget="float_time"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_trs_search_view" >
        <field name="name">is.theia.trs.search</field>
        <field name="model">is.theia.trs</field>
        <field name="arch" type="xml">
            <search>
                <field name="presse"/>
                <field name="ilot"/>
                <field name="etat"/>
                <field name="of"/>
                <field name="code_article"/>
                <field name="categorie"/>
                <field name="moule"/>
                <group expand="0" string="Regroupé par...">
                  <filter name="group_annee"        string="Année"     context="{'group_by':'date_heure:year'}"/>
                  <filter name="group_mois"         string="Mois"      context="{'group_by':'date_heure:month'}"/>
                  <filter name="group_semaine"      string="Semaine"   context="{'group_by':'date_heure:week'}"/>
                  <filter name="group_jour"         string="Jour"      context="{'group_by':'date_heure:day'}"/>
                  <filter name="group_presse"       string="Presse"    context="{'group_by':'presse'}"/>
                  <filter name="group_ilot"         string="Ilot"      context="{'group_by':'ilot'}"/>
                  <filter name="group_etat"         string="Etat"      context="{'group_by':'etat'}"/>
                  <filter name="group_of"           string="OF"        context="{'group_by':'of'}"/>
                  <filter name="group_code_article" string="Article"   context="{'group_by':'code_article'}"/>
                  <filter name="group_categorie"    string="Catégorie" context="{'group_by':'categorie'}"/>
                  <filter name="group_moule"        string="Moule"     context="{'group_by':'moule'}"/>
                </group>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_theia_trs_action">
        <field name="name">Table TRS</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.theia.trs</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem 
        action="is_theia_trs_action" 
        id="menu_is_theia_trs" 
        parent="menu_is_cpi_indicateurs" 
        sequence="90"
    />






    <!--Gestion des autorisations -->
    <record id="is_theia_autorisation_menu" model="ir.ui.menu" >
        <field name="name">Gestion des autorisations</field>
        <field name="sequence">35</field>
        <field name="parent_id" eval="ref('is_theia_root_menu')"/>
        <field name="groups_id" eval="[(6,0,[
            ref('base.group_erp_manager'),
            ref('group_gestionnaire_cpi_raspberry'),
        ])]"/>
    </record>

    <!-- is.theia.validation.groupe -->
    <record model="ir.ui.view" id="is_theia_validation_groupe_tree_view">
        <field name="name">is.theia.validation.groupe.tree</field>
        <field name="model">is.theia.validation.groupe</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="employee_ids" widget="many2many_tags"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_validation_groupe_form_view">
        <field name="name">is.theia.validation.groupe.form</field>
        <field name="model">is.theia.validation.groupe</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="employee_ids" widget="many2many_tags"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_validation_groupe_search_view" >
        <field name="name">is.theia.validation.groupe.search</field>
        <field name="model">is.theia.validation.groupe</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_theia_validation_groupe_action">
        <field name="name">Groupes de validation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.theia.validation.groupe</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem 
        id="is_theia_validation_groupe_menu" 
        action="is_theia_validation_groupe_action" 
        parent="is_theia_autorisation_menu" 
        sequence="10"
    />


    <!-- is.theia.validation.action -->
    <record model="ir.ui.view" id="is_theia_validation_action_tree_view">
        <field name="name">is.theia.validation.action.tree</field>
        <field name="model">is.theia.validation.action</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="code"/>
                <field name="groupe_ids" widget="many2many_tags"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_validation_action_form_view">
        <field name="name">is.theia.validation.action.form</field>
        <field name="model">is.theia.validation.action</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name" readonly="1"/>
                    <field name="code" readonly="1"/>
                    <field name="groupe_ids" widget="many2many_tags"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_validation_action_search_view" >
        <field name="name">is.theia.validation.action.search</field>
        <field name="model">is.theia.validation.action</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="code"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_theia_validation_action_action">
        <field name="name">Actions de validation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.theia.validation.action</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem 
        id="is_theia_validation_action_menu" 
        action="is_theia_validation_action_action" 
        parent="is_theia_autorisation_menu" 
        sequence="20"
    />


    <!-- is.theia.habilitation.operateur -->
    <record model="ir.ui.view" id="is_theia_habilitation_operateur_tree_view">
        <field name="name">is.theia.habilitation.operateur.tree</field>
        <field name="model">is.theia.habilitation.operateur</field>
        <field name="arch" type="xml">
            <tree>
                <field name="heure_debut"/>
                <field name="heure_fin"/>
                <field name="presse_id"/>
                <field name="moule"/>
                <field name="operateur_id"/>
                <field name="valideur_id"/>
                <field name="state"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_habilitation_operateur_form_view">
        <field name="name">is.theia.habilitation.operateur.form</field>
        <field name="model">is.theia.habilitation.operateur</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="heure_debut"/>
                    <field name="heure_fin"/>
                    <field name="presse_id"/>
                    <field name="moule"/>
                    <field name="operateur_id"/>
                    <field name="valideur_id"/>
                    <field name="state"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_habilitation_operateur_search_view" >
        <field name="name">is.theia.habilitation.operateur.search</field>
        <field name="model">is.theia.habilitation.operateur</field>
        <field name="arch" type="xml">
            <search>
                <field name="presse_id"/>
                <field name="moule"/>
                <field name="operateur_id"/>
                <field name="valideur_id"/>
                <field name="state"/>
                <group expand="0" string="Regrouper par...">
                    <filter name="group_by_presse_id"    string="Presse" domain="[]" context="{'group_by':'presse_id'}"/>
                    <filter name="group_by_moule"        string="Moule" domain="[]" context="{'group_by':'moule'}"/>
                    <filter name="group_by_operateur_id" string="Opérateur" domain="[]" context="{'group_by':'operateur_id'}"/>
                    <filter name="group_by_valideur_id"  string="Valideur" domain="[]" context="{'group_by':'valideur_id'}"/>
                    <filter name="group_by_state"        string="Etat" domain="[]" context="{'group_by':'state'}"/>
                </group>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_theia_habilitation_operateur_action">
        <field name="name">Habilitation Opérateur</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.theia.habilitation.operateur</field>
        <field name="view_mode">tree,form</field>
    </record>
    <record id="is_theia_habilitation_operateur_main_menu" model="ir.ui.menu" >
        <field name="name">Habilitation Opérateur</field>
        <field name="sequence">37</field>
        <field name="parent_id" eval="ref('is_theia_root_menu')"/>
        <field name="groups_id" eval="[(6,0,[
            ref('is_employes_hors_production_group'),
        ])]"/>
    </record>
    <menuitem 
        id="is_theia_habilitation_operateur_menu" 
        action="is_theia_habilitation_operateur_action" 
        parent="is_theia_habilitation_operateur_main_menu" 
        sequence="10"
    />


    <!-- is.theia.habilitation.operateur.etat -->
    <record id="is_theia_habilitation_operateur_etat_form_view" model="ir.ui.view">
        <field name="name">is_theia_habilitation_operateur_etat_form_view</field>
        <field name="model">is.theia.habilitation.operateur.etat</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="presse_id" />
                            <field name="moule" />
                            <field name="operateur_id" />
                            <field name="state" />
                            <field name="heure_debut" />
                         </group>
                     </group>
                </sheet>
            </form>
        </field>
    </record>
    <record id="is_theia_habilitation_operateur_etat_tree_view" model="ir.ui.view">
        <field name="name">is_theia_habilitation_operateur_etat_tree_view</field>
        <field name="model">is.theia.habilitation.operateur.etat</field>
        <field name="arch" type="xml">
            <tree create="false">
                <field name="presse_id" />
                <field name="moule" />
                <field name="operateur_id" />
                <field name="state" />
                <field name="heure_debut" />
           </tree>
        </field>
    </record>
    <record id="is_theia_habilitation_operateur_etat_search_view" model="ir.ui.view">
        <field name="name">is_theia_habilitation_operateur_etat_search_view</field>
        <field name="model">is.theia.habilitation.operateur.etat</field>
        <field name="arch" type="xml">
            <search string="Recherche">
                <field name="presse_id" />
                <field name="moule" />
                <field name="operateur_id" />
                <field name="state" />
               <group expand="0" string="Regrouper par...">
                    <filter name="group_by_presse_id"    string="Presse"    domain="[]" context="{'group_by':'presse_id'}"/>
                    <filter name="group_by_moule"        string="Moule"     domain="[]" context="{'group_by':'moule'}"/>
                    <filter name="group_by_operateur_id" string="Opérateur" domain="[]" context="{'group_by':'operateur_id'}"/>
                    <filter name="group_by_state"        string="Etat"      domain="[]" context="{'group_by':'state'}"/>
                </group>
            </search>
        </field>
    </record>
    <record id="is_theia_habilitation_operateur_etat_pivot_view" model="ir.ui.view">
        <field name="name">is_theia_habilitation_operateur_etat_pivot_view</field>
        <field name="model">is.theia.habilitation.operateur.etat</field>
        <field name="arch" type="xml">
            <pivot string="pivot">
                <field name="operateur_id" type="row"/>
                <field name="moule"        type="row"/>
                <field name="state"        type="col"/>
             </pivot>
         </field>
    </record>
    <record id="is_theia_habilitation_operateur_etat_action" model="ir.actions.act_window">
        <field name="name">Dernière habilitation</field>
        <field name="res_model">is.theia.habilitation.operateur.etat</field>
        <field name="domain">[]</field>
        <field name="view_mode">tree,form,graph</field>
    </record>
    <menuitem 
        id="is_theia_habilitation_operateur_etat_menu" 
        action="is_theia_habilitation_operateur_etat_action" 
        parent="is_theia_habilitation_operateur_main_menu" 
        sequence="11"
    />


    <!-- Déqualification moule --> 
    <record model="ir.ui.view" id="is_theia_dequalification_moule_tree_view">
        <field name="name">is_theia_dequalification_moule_tree_view</field>
        <field name="model">is.mold</field>
        <field name="priority" eval="90" />
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="designation"/>
                <field name="project"/>
                <field name="client_id"/> 
                <field name="dossierf_id"/>
                <field name="nb_empreintes"/>
                <field name="emplacement"/>
                <field name="is_database_id"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_dequalification_moule_form_view">
        <field name="name">is_theia_dequalification_moule_form_view</field>
        <field name="model">is.mold</field>
        <field name="priority" eval="90" />
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="designation"/>
                    <field name="project"/>
                    <field name="client_id"/> 
                    <field name="dossierf_id"/>
                    <field name="nb_empreintes"/>
                    <field name="emplacement"/>
                    <field name="is_database_id"/>
                    <button 
                            string="Déqualification des opérateurs de ce moule"
                            name="dequalification_moule_action"
                            confirm="Voulez-vous vraiment déqualifier tous les opérateurs de ce moule ?"
                            type="object" class="oe_highlight"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_theia_dequalification_moule_action">
        <field name="name">Déqualification moule</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.mold</field>
        <field name="context">{}</field>
        <field name="domain">[]</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids" eval="[
            (5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('is_theia_dequalification_moule_tree_view'), 'sequence': 1}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('is_theia_dequalification_moule_form_view'), 'sequence': 2})
        ]"/>
    </record>
    <record id="is_theia_dequalification_moule_action_menu" model="ir.ui.menu" >
        <field name="name">Déqualification moule</field>
        <field name="sequence">20</field>
        <field name="action"    ref="is_theia_dequalification_moule_action"/>
        <field name="parent_id" eval="ref('is_theia_habilitation_operateur_main_menu')"/>
        <field name="groups_id" eval="[(6,0,[
            ref('group_gestionnaire_cpi_raspberry'),
        ])]"/>
    </record>










    <!-- is.theia.lecture.ip -->
    <record model="ir.ui.view" id="is_theia_lecture_ip_tree_view">
        <field name="name">is.theia.lecture.ip.tree</field>
        <field name="model">is.theia.lecture.ip</field>
        <field name="arch" type="xml">
            <tree>
                <field name="date_heure"/>
                <field name="presse_id"/>
                <field name="moule"/>
                <field name="of_ids" widget="many2many_tags" />
                <field name="operateur_id"/>
                <field name="ip_id"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_lecture_ip_form_view">
        <field name="name">is.theia.lecture.ip.form</field>
        <field name="model">is.theia.lecture.ip</field>
        <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="date_heure"/>
                    <field name="presse_id"/>
                    <field name="moule"/>
                    <field name="of_ids" widget="many2many_tags" />
                    <field name="operateur_id"/>
                    <field name="ip_id"/>
                </group>
            </sheet>
        </form>
        </field>
    </record>
    <record model="ir.ui.view" id="is_theia_lecture_ip_search_view" >
        <field name="name">is.theia.lecture.ip.search</field>
        <field name="model">is.theia.lecture.ip</field>
        <field name="arch" type="xml">
            <search>
                <field name="date_heure"/>
                <field name="presse_id"/>
                <field name="moule"/>
                <field name="of_ids"/>
                <field name="operateur_id"/>
                <field name="ip_id"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="is_theia_lecture_ip_action">
        <field name="name">Lecture Instructions Particulières</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">is.theia.lecture.ip</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem 
        id="is_theia_lecture_ip_menu" 
        name="Lecture IP"
        action="is_theia_lecture_ip_action" 
        parent="is_theia_habilitation_operateur_main_menu" 
        sequence="20"
    />



    </data>
</odoo>
