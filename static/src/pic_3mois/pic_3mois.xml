<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
    <t t-name="is_plastigray16.pic_3mois_template" owl="1">
        <style>
            .o_control_panel{
                display: none;
            }

            .filtre_pic{
                margin-bottom: 0.5rem;
            }


            table.filtre_pic thead tr:nth-child(1) th {
                background-color: white;
                font-size: 1rem;
                color: gray;
            }



            .pic3mois {
                border-bottom: 1px solid #dee2e6;
                padding-top: 0;
                /*padding-right: 16px;*/
                padding-bottom: 0.5rem;
                /*margin-right: 16px;*/
                /*margin-left: 16px;*/
                background-color: #f2f3f4;
            }
            .link {
                cursor: pointer;
                color: #564b79;
            }
        </style>
        <Layout display="display">
            <table style="width:100%" class="filtre_pic">
                <thead>
                    <tr>
                        <th>Client Liv</th>
                        <th>Adr Liv</th>
                        <th>CodePG<br />(Début)</th>
                        <th>Cat</th>
                        <th>Gest</th>
                        <th>Ref Client<br />(Partielle)</th>
                        <th>Moule<br />(Liste avec virgule)</th>
                        <th>Projet</th>
                        <th>Type Cde</th>
                        <th>Type Client</th>
                        <th>Prod/ST*</th>
                        <th>Horizon<br />(Nb Semaines)</th>
                        <th>Périodicité<br />(Nb Jours)</th>
                        <th>Affiche<br />colonne vide</th>
                        <th>Nb Lignes<br />par page</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input name="pic3mois_code_cli" t-att-value="state.pic3mois_code_cli" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_adr_cli" t-att-value="state.pic3mois_adr_cli" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_code_pg" t-att-value="state.pic3mois_code_pg" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_cat" t-att-value="state.pic3mois_cat" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_gest" t-att-value="state.pic3mois_gest" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_ref_cli" t-att-value="state.pic3mois_ref_cli" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_moule" t-att-value="state.pic3mois_moule" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_projet" t-att-value="state.pic3mois_projet" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_type_cde" t-att-value="state.pic3mois_type_cde" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_type_client" t-att-value="state.pic3mois_type_client" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_prod_st" t-att-value="state.pic3mois_prod_st" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_nb_semaines" t-att-value="state.pic3mois_nb_semaines" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_periodicite" t-att-value="state.pic3mois_periodicite" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_affiche_col_vide" t-att-value="state.pic3mois_affiche_col_vide" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><input name="pic3mois_nb_lig" t-att-value="state.pic3mois_nb_lig" t-on-change="onChangeInput" t-on-keyup="OKkey" type="text" class="form-control"/></td>
                        <td><button class="btn btn-primary ms-1" style="width:50px"  t-on-click="OKclick"> OK </button></td>
                    </tr>
                </tbody>
            </table>

            <div class="pic3mois" style="width:100%; height:99vh; overflow: auto;">
                <table style="width:100%;overflow-y:auto">
                    <thead>
                        <tr>
                            <th style="text-align:left">Code</th>
                            <th style="text-align:center">Cat</th>
                            <th style="text-align:center">Gest</th>
                            <th style="text-align:center">Moule</th>
                            <th style="text-align:left">Désignation</th>
                            <th style="text-align:center">US</th>
                            <th style="text-align:center">Année</th>
                            <th style="text-align:right">Dest</th>
                            <th style="text-align:right">01</th>
                            <th style="text-align:right">02</th>
                            <th style="text-align:right">03</th>
                            <th style="text-align:right">04</th>
                            <th style="text-align:right">05</th>
                            <th style="text-align:right">06</th>
                            <th style="text-align:right">07</th>
                            <th style="text-align:right">08</th>
                            <th style="text-align:right">09</th>
                            <th style="text-align:right">10</th>
                            <th style="text-align:right">11</th>
                            <th style="text-align:right">12</th>
                        </tr>
                    </thead>
                    <tbody>



                        <t t-foreach="state.lines" t-as="line" t-key="line.key">
                            <tr 
                                t-att-style="line.trstyle"
                                t-att-memstyle="line.trstyle"
                                t-on-mouseenter="TrMouseEnter" 
                                t-on-click="TrClick" 
                                t-on-mouseleave="TrMouseLeave" 
                                t-att-productid="line.product_tmpl_id"
                                t-att-click="-1"
                            >
                                <td 
                                    style="text-align:left" 
                                    t-on-click="clickCode" 
                                    t-att-productid="line.product_tmpl_id"
                                >
                                    <span t-esc="line.row.code_client"/> / 
                                    <span t-esc="line.row.is_ref_client"/> / 
                                    <span t-esc="line.row.client_order_ref"/><br />
                                    <span t-esc="line.moule"/> / 
                                    <span t-esc="line.row.is_code"/> / 
                                    <span t-esc="line.row.gestionnaire"/> / 
                                    <b><span t-esc="line.row.stocka"/></b> / 
                                    <b><span t-esc="line.row.stockq"/></b> / 
                                    <span t-esc="line.lot_mini"/> / 
                                    <span t-esc="line.row.is_stock_secu"/> / 
                                    <span t-esc="line.row.is_delai_transport"/><br />
                                    <span t-esc="line.row.designation"/>
                                </td>


                                <t t-foreach="line.listcols" t-as="col" t-key="col.key">
                                    <td 
                                        style="text-align:right" 
                                        t-esc="col.qt" 
                                        class="link" 
                                        t-on-click="OKclickQt" 
                                    />
                                </t>
                                


                                <td/>
                            </tr>
                        </t> 

        
<!-- 
                        <t t-foreach="state.lines" t-as="line" t-key="line.key">
                            <tr 
                                t-att-style="line.trstyle"
                                t-att-memstyle="line.trstyle"
                                t-on-mouseenter="TrMouseEnter" 
                                t-on-click="TrClick" 
                                t-on-mouseleave="TrMouseLeave" 
                                t-att-productid="line.product_tmpl_id"
                                t-att-click="-1"
                            >

                                <td 
                                    style="text-align:left" 
                                    t-esc="line.code" 
                                    class="link" 
                                    t-on-click="clickCode" 
                                    t-att-productid="line.product_tmpl_id"
                                />




                                <td style="text-align:center" t-esc="line.cat"/>
                                <td style="text-align:center" t-esc="line.gest"/>
                                <td style="text-align:center" t-esc="line.moule"/>
                                <td style="text-align:left" t-esc="line.designation"/>
                                <td style="text-align:center" t-esc="line.us"/>
                                <td style="text-align:center" t-esc="line.annee"/>
                                <td style="text-align:right"/>

                                <t t-foreach="line.listcols" t-as="col" t-key="col.key">
                                    <td 
                                        style="text-align:right" 
                                        t-esc="col.quantite" 
                                        class="link" 
                                        t-on-click="OKclickQt" 
                                        t-att-mois="col.mois" 
                                        t-att-productid="line.product_id"
                                    />
                                </t>
                                
                               
                                <td/>
                            </tr>
                        </t> -->



                    </tbody>
                </table>
            </div>
        </Layout>
    </t>
</templates>
